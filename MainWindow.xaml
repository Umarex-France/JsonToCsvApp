<Window x:Class="JsonToCsvApp.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="G√©n√©rateur JSON -> CSV"
        Height="600" Width="900" MinWidth="800" MinHeight="500"
        Background="#1E1E1E" Foreground="White" FontFamily="Segoe UI">

    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="16"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="16"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="16"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="16"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- En-t√™te -->
        <TextBlock Grid.Row="0"
                   Text="‚ö° G√©n√©rateur JSON ‚Üí CSV"
                   FontSize="24" FontWeight="Bold" Foreground="#4CAF50"
                   HorizontalAlignment="Center" Margin="0 0 0 10"/>

        <!-- Frame: R√©cup√©ration des donn√©es -->
        <GroupBox Grid.Row="2" Header="R√©cup√©ration des donn√©es"
                  HorizontalAlignment="Stretch" Foreground="White">
            <Grid Margin="12,10,12,12">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="8"/>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="12"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="12"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <TextBlock Grid.Row="0" Grid.Column="0"
                           Text="Endpoint (URL) :" VerticalAlignment="Center"/>
                <TextBox x:Name="EndpointTextBox"
                         Grid.Row="0" Grid.Column="2"
                         Height="28" Background="#2D2D2D" Foreground="White"
                         BorderBrush="#4CAF50" BorderThickness="1"
                         Text="https://api.exemple.com/data.json"/>

                <TextBlock Grid.Row="2" Grid.Column="0"
                           Text="API Key :" VerticalAlignment="Center"/>
                <Grid Grid.Row="2" Grid.Column="2">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>
                    <PasswordBox x:Name="ApiKeyBox" Height="28" Grid.Column="0"
                                 Background="#2D2D2D" Foreground="White"
                                 BorderBrush="#4CAF50" BorderThickness="1"
                                 PasswordChanged="ApiKeyBox_PasswordChanged"/>
                    <TextBox x:Name="ApiKeyPlainTextBox" Height="28" Grid.Column="0"
                             Visibility="Collapsed" Background="#2D2D2D"
                             Foreground="White" BorderBrush="#4CAF50"
                             BorderThickness="1"
                             TextChanged="ApiKeyPlainTextBox_TextChanged"/>
                    <ToggleButton x:Name="ApiRevealToggle" Grid.Column="1"
                                  Width="36" Height="28" Margin="6,0,0,0"
                                  Click="ApiRevealToggle_Click">üëÅ</ToggleButton>
                </Grid>

                <Button x:Name="SaveApiButton"
                        Grid.Row="4" Grid.Column="0"
                        Content="Sauvegarder"
                        Width="120" Height="34"
                        Background="#4CAF50" Foreground="White"
                        BorderThickness="0" Cursor="Hand"
                        Click="SaveApiButton_Click"/>
            </Grid>
        </GroupBox>

        <!-- Frame: Choix du dossier -->
        <GroupBox Grid.Row="4" Header="Choix du dossier"
                  HorizontalAlignment="Stretch" Foreground="White">
            <Grid Margin="12,10,12,12">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="8"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="12"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <TextBlock Grid.Row="0" Grid.Column="0"
                           Text="Dossier de sortie :" VerticalAlignment="Center"/>
                <DockPanel Grid.Row="0" Grid.Column="2">
                    <TextBox x:Name="OutputFolderTextBox" Height="28"
                             Background="#2D2D2D" Foreground="White"
                             BorderBrush="#4CAF50" BorderThickness="1"/>
                </DockPanel>

                <DockPanel Grid.Row="2" Grid.Column="0" Grid.ColumnSpan="3">
                    <Button x:Name="BrowseFolderButton"
                            Content="Parcourir"
                            Width="120" Height="34"
                            Background="#2196F3" Foreground="White"
                            BorderThickness="0" Cursor="Hand"
                            Click="BrowseFolderButton_Click"/>
                    <DockPanel DockPanel.Dock="Right" LastChildFill="True">
                        <CheckBox x:Name="DeleteOldCheckBox"
                                  Content="Supprimer anciens"
                                  HorizontalAlignment="Right"
                                  VerticalAlignment="Center"
                                  Click="DeleteOldCheckBox_Click"/>
                    </DockPanel>
                </DockPanel>
            </Grid>
        </GroupBox>

        <!-- Bouton G√âN√âRER -->
        <Button x:Name="GenerateButton"
                Grid.Row="6" Content="üöÄ G√âN√âRER"
                Height="50" Width="220"
                FontSize="18" FontWeight="Bold"
                Background="#FF5722" Foreground="White"
                BorderThickness="0" Cursor="Hand"
                HorizontalAlignment="Center"
                Click="GenerateButton_Click"/>

        <!-- Logs -->
        <TextBlock Grid.Row="8" Text="√âtapes en cours :" FontWeight="SemiBold"/>
        <TextBox x:Name="LogsTextBox" Grid.Row="9" Margin="0,4,0,0"
                 IsReadOnly="True" AcceptsReturn="True"
                 VerticalScrollBarVisibility="Auto"
                 Background="Black" Foreground="Lime"
                 FontFamily="Consolas" FontSize="13"/>
    </Grid>
</Window>
